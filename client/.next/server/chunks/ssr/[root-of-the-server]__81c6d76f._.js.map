{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/src/app/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client'\r\n\r\nimport React, { useState, ChangeEvent, FormEvent } from \"react\";\r\nimport { GoogleLogin, CredentialResponse } from \"@react-oauth/google\";\r\nimport { useRouter } from \"next/navigation\"; //\r\nimport axios from \"axios\";\r\n\r\ninterface FormData {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface FormErrors {\r\n    email?: string;\r\n    password?: string;\r\n}\r\nconst Login: React.FC = () => {\r\n  const [formData, setFormData] = useState<FormData>({\r\n      email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState<FormErrors>({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n\r\n    if (errors[name as keyof FormErrors]) {\r\n      setErrors((prev) => ({\r\n        ...prev,\r\n        [name]: \"\",\r\n      }));\r\n    }\r\n};\r\nconst router = useRouter();\r\n\r\n  const validateForm = () => {\r\n    const newErrors: FormErrors = {};\r\n\r\n    if (!formData.email.trim()) {\r\n      newErrors.email = \"Email is required\";\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\r\n      newErrors.email = \"Email is invalid\";\r\n    }\r\n\r\n    if (!formData.password) {\r\n      newErrors.password = \"Password is required\";\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    try {\r\n      const res = await fetch(\"http://localhost:3000/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (res.ok) {\r\n        router.push(\"/\");\r\n      } else {\r\n        const data = await res.json();\r\n        setErrors({ email: data.message || \"Login failed\" });\r\n      }\r\n    } catch (error) {\r\n      setErrors({ email: \"Network error\" });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const GoogleAuthButton = async (credentialResponse: CredentialResponse) => {\r\n    const id_token = credentialResponse.credential;\r\n    if (!id_token) {\r\n      console.error(\"No credential received\");\r\n      return;\r\n    }\r\n    try {\r\n      const res = await axios.post(\r\n        \"http://localhost:3000/api/auth/google-log-in\",\r\n        {\r\n          token: id_token,\r\n        }\r\n      );\r\n\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      router.push(\"/\");\r\n    } catch (err) {\r\n      console.error(\"Login error:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"flex justify-center\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"inline-flex h-10 w-10 items-center justify-center rounded-md bg-gray-900 text-white font-bold text-lg\">\r\n              F\r\n            </span>\r\n            <span className=\"text-2xl font-bold tracking-tight text-gray-900\">\r\n              Fitness\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          Sign in to your account\r\n        </h2>\r\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n          Welcome back! Please sign in to continue\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n            {/* Email Field */}\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Email Address\r\n              </label>\r\n              <div className=\"mt-1\">\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  className={`appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm ${\r\n                    errors.email ? \"border-red-300\" : \"border-gray-300\"\r\n                  }`}\r\n                  placeholder=\"Enter your email\"\r\n                />\r\n                {errors.email && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.email}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Password Field */}\r\n            <div>\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"block text-sm font-medium text-gray-700\"\r\n              >\r\n                Password\r\n              </label>\r\n              <div className=\"mt-1\">\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  className={`appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm ${\r\n                    errors.password ? \"border-red-300\" : \"border-gray-300\"\r\n                  }`}\r\n                  placeholder=\"Enter your password\"\r\n                />\r\n                {errors.password && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">{errors.password}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Remember me and Forgot password */}\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  id=\"remember-me\"\r\n                  name=\"remember-me\"\r\n                  type=\"checkbox\"\r\n                  className=\"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300 rounded\"\r\n                />\r\n                <label\r\n                  htmlFor=\"remember-me\"\r\n                  className=\"ml-2 block text-sm text-gray-900\"\r\n                >\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"text-sm\">\r\n                <a\r\n                  href=\"#\"\r\n                  className=\"font-medium text-gray-600 hover:text-gray-500\"\r\n                >\r\n                  Forgot your password?\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <div>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {isLoading ? \"Signing in...\" : \"Sign in\"}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Register Link */}\r\n            <div className=\"text-center\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                Don&apos;t have an account?\r\n                <a\r\n                  href=\"/register\"\r\n                  className=\"font-medium text-gray-900 hover:text-gray-700\"\r\n                >\r\n                  Sign up\r\n                </a>\r\n              </p>\r\n            </div>\r\n          </form>\r\n          <div className=\"relative my-6\">\r\n            <div className=\"absolute inset-0 flex items-center\">\r\n              <div className=\"w-full border-t border-gray-300\" />\r\n            </div>\r\n            <div className=\"relative flex justify-center text-sm\">\r\n              <span className=\"bg-white px-2 text-gray-500\">\r\n                Or continue with\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex justify-center items-center \">\r\n            <GoogleLogin\r\n              onSuccess={GoogleAuthButton}\r\n              onError={() => {\r\n                console.log(\"Login Failed\");\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["module","exports","require","vendored","ReactJsxRuntime","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2,3]}